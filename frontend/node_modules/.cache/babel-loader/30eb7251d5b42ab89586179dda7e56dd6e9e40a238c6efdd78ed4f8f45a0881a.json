{"ast":null,"code":"import React,{useState}from\"react\";import VisibilityTwoToneIcon from\"@mui/icons-material/VisibilityTwoTone\";import FavoriteBorderIcon from\"@mui/icons-material/FavoriteBorder\";import TrendingFlatIcon from\"@mui/icons-material/TrendingFlat\";import\"./BlogCard.css\";import DateCategory from\"./DateCategory\";import Views from\"./Views\";import Likes from\"./Likes\";import AuthorDetails from\"./AuthorDetails\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";//Component to display a Blog Card in all Blogs Page\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BlogCard=_ref=>{let{id,title,author,content,image,role,category,views,likes,date,intro}=_ref;const navigate=useNavigate();const[like,setLike]=useState(false);const handleLikes=async()=>{// console.log(\"clicked\");\nif(like===false){const dataToDB={id:id,title:title,author:author,content:content,image:image,role:role,category:category,views:views,likes:likes+1,date:date,intro:intro};await axios.post(\"/blogs/updateLikes/\".concat(id),dataToDB).then(response=>{// console.log(\"Success:\", response.data);\n// Redirect to the /blogs page\nsetLike(!like);}).catch(error=>{console.error(\"Error:\",error);// Handle error actions, e.g., show error message\n});}else{const dataToDB={id:id,title:title,author:author,content:content,image:image,role:role,category:category,views:views,likes:likes-1,date:date,intro:intro};await axios.post(\"/blogs/updateLikes/\".concat(id),dataToDB).then(response=>{// console.log(\"Success:\", response.data);\n// Redirect to the /blogs page\nsetLike(!like);}).catch(error=>{console.error(\"Error:\",error);// Handle error actions, e.g., show error message\n});}};const handleViews=async()=>{const dataToDB={id:id,title:title,author:author,content:content,image:image,role:role,category:category,views:views+1,likes:likes,date:date,intro:intro};await axios.post(\"/blogs/updateViews/\".concat(id),dataToDB).then(response=>{// console.log(\"Success:\", response.data);\n// Redirect to the /blogs page\nnavigate(\"/showBlog/\".concat(id));}).catch(error=>{console.error(\"Error:\",error);// Handle error actions, e.g., show error message\n});};return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{width:\"30%\",height:\"70vh\"},children:[/*#__PURE__*/_jsx(\"img\",{src:image,className:\"card-img-top\",alt:\"...\",height:\"40%\",style:{objectFit:\"cover\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",id:\"#nopadding\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:/*#__PURE__*/_jsx(DateCategory,{date:date,category:category})}),/*#__PURE__*/_jsxs(\"div\",{style:{height:\"20vh\",overflow:\"hidden\"//   textOverflow: \"ellipses\",\n//   whiteSpace: \"nowrap\",\n},children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:title}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",style:{height:\"20vh\",overflow:\"hidden\",textOverflow:\"ellipsis\",marginBottom:\"16px\"},children:intro})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"a\",{className:\"readmore btn\",onClick:handleViews,children:[\"Read More \",/*#__PURE__*/_jsx(TrendingFlatIcon,{})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid p-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-8\",children:/*#__PURE__*/_jsx(AuthorDetails,{author:author,role:role})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-4 p-0 d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-6 p-0 d-inline\",children:/*#__PURE__*/_jsx(Views,{views:views})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-5 p-0 d-inline\",children:/*#__PURE__*/_jsx(Likes,{likes:likes,handleLikes:handleLikes})})]})]})})]})})]});};export default BlogCard;","map":{"version":3,"names":["React","useState","VisibilityTwoToneIcon","FavoriteBorderIcon","TrendingFlatIcon","DateCategory","Views","Likes","AuthorDetails","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","BlogCard","_ref","id","title","author","content","image","role","category","views","likes","date","intro","navigate","like","setLike","handleLikes","dataToDB","post","concat","then","response","catch","error","console","handleViews","className","style","width","height","children","src","alt","objectFit","overflow","textOverflow","marginBottom","onClick"],"sources":["/Users/shramol/Documents/Code/To-Let-Globe-Dynamic-Blog-Platform/frontend/src/BlogCard.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport VisibilityTwoToneIcon from \"@mui/icons-material/VisibilityTwoTone\";\nimport FavoriteBorderIcon from \"@mui/icons-material/FavoriteBorder\";\nimport TrendingFlatIcon from \"@mui/icons-material/TrendingFlat\";\nimport \"./BlogCard.css\";\nimport DateCategory from \"./DateCategory\";\nimport Views from \"./Views\";\nimport Likes from \"./Likes\";\nimport AuthorDetails from \"./AuthorDetails\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\n\n//Component to display a Blog Card in all Blogs Page\nconst BlogCard = ({\n  id,\n  title,\n  author,\n  content,\n  image,\n  role,\n  category,\n  views,\n  likes,\n  date,\n  intro,\n}) => {\n  const navigate = useNavigate();\n\n  const [like, setLike] = useState(false);\n\n  const handleLikes = async () => {\n    // console.log(\"clicked\");\n    if (like === false) {\n      const dataToDB = {\n        id: id,\n        title: title,\n        author: author,\n        content: content,\n        image: image,\n        role: role,\n        category: category,\n        views: views,\n        likes: likes + 1,\n        date: date,\n        intro: intro,\n      };\n      await axios\n        .post(`/blogs/updateLikes/${id}`, dataToDB)\n        .then((response) => {\n          // console.log(\"Success:\", response.data);\n          // Redirect to the /blogs page\n          setLike(!like);\n        })\n        .catch((error) => {\n          console.error(\"Error:\", error);\n          // Handle error actions, e.g., show error message\n        });\n    } else {\n      const dataToDB = {\n        id: id,\n        title: title,\n        author: author,\n        content: content,\n        image: image,\n        role: role,\n        category: category,\n        views: views,\n        likes: likes - 1,\n        date: date,\n        intro: intro,\n      };\n      await axios\n        .post(`/blogs/updateLikes/${id}`, dataToDB)\n        .then((response) => {\n          // console.log(\"Success:\", response.data);\n          // Redirect to the /blogs page\n          setLike(!like);\n        })\n        .catch((error) => {\n          console.error(\"Error:\", error);\n          // Handle error actions, e.g., show error message\n        });\n    }\n  };\n\n  const handleViews = async () => {\n    const dataToDB = {\n      id: id,\n      title: title,\n      author: author,\n      content: content,\n      image: image,\n      role: role,\n      category: category,\n      views: views + 1,\n      likes: likes,\n      date: date,\n      intro: intro,\n    };\n    await axios\n      .post(`/blogs/updateViews/${id}`, dataToDB)\n      .then((response) => {\n        // console.log(\"Success:\", response.data);\n        // Redirect to the /blogs page\n        navigate(`/showBlog/${id}`);\n      })\n      .catch((error) => {\n        console.error(\"Error:\", error);\n        // Handle error actions, e.g., show error message\n      });\n  };\n\n  return (\n    <div className=\"card\" style={{ width: \"30%\", height: \"70vh\" }}>\n      {/* <div class=\"card\" style={{ width: \"30%\" }}> */}\n      <img\n        src={image}\n        className=\"card-img-top\"\n        alt=\"...\"\n        height=\"40%\"\n        style={{ objectFit: \"cover\" }}\n      />\n      <div className=\"row\">\n        <div className=\"card-body\" id=\"#nopadding\">\n          <p className=\"card-text\">\n            <DateCategory date={date} category={category} />\n          </p>\n\n          <div\n            style={{\n              height: \"20vh\",\n              overflow: \"hidden\",\n              //   textOverflow: \"ellipses\",\n              //   whiteSpace: \"nowrap\",\n            }}\n          >\n            <h5 className=\"card-title\">{title}</h5>\n            <p\n              className=\"card-text\"\n              style={{\n                height: \"20vh\",\n                overflow: \"hidden\",\n                textOverflow: \"ellipsis\",\n                marginBottom: \"16px\",\n              }}\n            >\n              {intro}\n            </p>\n          </div>\n\n          <div>\n            {/* <a class=\"readmore btn\" onClick={handleViews} href={`/showBlog/${id}`}> */}\n            <a className=\"readmore btn\" onClick={handleViews}>\n              Read More <TrendingFlatIcon />\n            </a>\n          </div>\n\n          <div className=\"container-fluid p-0\">\n            <div className=\"row\">\n              <div className=\"col-8\">\n                <AuthorDetails author={author} role={role} />\n              </div>\n              <div className=\"col-4 p-0 d-flex justify-content-between\">\n                <div className=\"col-6 p-0 d-inline\">\n                  <Views views={views} />\n                </div>\n                <div className=\"col-5 p-0 d-inline\">\n                  <Likes likes={likes} handleLikes={handleLikes} />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default BlogCard;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,qBAAqB,KAAM,uCAAuC,CACzE,MAAO,CAAAC,kBAAkB,KAAM,oCAAoC,CACnE,MAAO,CAAAC,gBAAgB,KAAM,kCAAkC,CAC/D,MAAO,gBAAgB,CACvB,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CACzC,MAAO,CAAAC,KAAK,KAAM,SAAS,CAC3B,MAAO,CAAAC,KAAK,KAAM,SAAS,CAC3B,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAE9C;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,KAAM,CAAAC,QAAQ,CAAGC,IAAA,EAYX,IAZY,CAChBC,EAAE,CACFC,KAAK,CACLC,MAAM,CACNC,OAAO,CACPC,KAAK,CACLC,IAAI,CACJC,QAAQ,CACRC,KAAK,CACLC,KAAK,CACLC,IAAI,CACJC,KACF,CAAC,CAAAX,IAAA,CACC,KAAM,CAAAY,QAAQ,CAAGlB,WAAW,CAAC,CAAC,CAE9B,KAAM,CAACmB,IAAI,CAAEC,OAAO,CAAC,CAAG7B,QAAQ,CAAC,KAAK,CAAC,CAEvC,KAAM,CAAA8B,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B;AACA,GAAIF,IAAI,GAAK,KAAK,CAAE,CAClB,KAAM,CAAAG,QAAQ,CAAG,CACff,EAAE,CAAEA,EAAE,CACNC,KAAK,CAAEA,KAAK,CACZC,MAAM,CAAEA,MAAM,CACdC,OAAO,CAAEA,OAAO,CAChBC,KAAK,CAAEA,KAAK,CACZC,IAAI,CAAEA,IAAI,CACVC,QAAQ,CAAEA,QAAQ,CAClBC,KAAK,CAAEA,KAAK,CACZC,KAAK,CAAEA,KAAK,CAAG,CAAC,CAChBC,IAAI,CAAEA,IAAI,CACVC,KAAK,CAAEA,KACT,CAAC,CACD,KAAM,CAAAlB,KAAK,CACRwB,IAAI,uBAAAC,MAAA,CAAuBjB,EAAE,EAAIe,QAAQ,CAAC,CAC1CG,IAAI,CAAEC,QAAQ,EAAK,CAClB;AACA;AACAN,OAAO,CAAC,CAACD,IAAI,CAAC,CAChB,CAAC,CAAC,CACDQ,KAAK,CAAEC,KAAK,EAAK,CAChBC,OAAO,CAACD,KAAK,CAAC,QAAQ,CAAEA,KAAK,CAAC,CAC9B;AACF,CAAC,CAAC,CACN,CAAC,IAAM,CACL,KAAM,CAAAN,QAAQ,CAAG,CACff,EAAE,CAAEA,EAAE,CACNC,KAAK,CAAEA,KAAK,CACZC,MAAM,CAAEA,MAAM,CACdC,OAAO,CAAEA,OAAO,CAChBC,KAAK,CAAEA,KAAK,CACZC,IAAI,CAAEA,IAAI,CACVC,QAAQ,CAAEA,QAAQ,CAClBC,KAAK,CAAEA,KAAK,CACZC,KAAK,CAAEA,KAAK,CAAG,CAAC,CAChBC,IAAI,CAAEA,IAAI,CACVC,KAAK,CAAEA,KACT,CAAC,CACD,KAAM,CAAAlB,KAAK,CACRwB,IAAI,uBAAAC,MAAA,CAAuBjB,EAAE,EAAIe,QAAQ,CAAC,CAC1CG,IAAI,CAAEC,QAAQ,EAAK,CAClB;AACA;AACAN,OAAO,CAAC,CAACD,IAAI,CAAC,CAChB,CAAC,CAAC,CACDQ,KAAK,CAAEC,KAAK,EAAK,CAChBC,OAAO,CAACD,KAAK,CAAC,QAAQ,CAAEA,KAAK,CAAC,CAC9B;AACF,CAAC,CAAC,CACN,CACF,CAAC,CAED,KAAM,CAAAE,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,KAAM,CAAAR,QAAQ,CAAG,CACff,EAAE,CAAEA,EAAE,CACNC,KAAK,CAAEA,KAAK,CACZC,MAAM,CAAEA,MAAM,CACdC,OAAO,CAAEA,OAAO,CAChBC,KAAK,CAAEA,KAAK,CACZC,IAAI,CAAEA,IAAI,CACVC,QAAQ,CAAEA,QAAQ,CAClBC,KAAK,CAAEA,KAAK,CAAG,CAAC,CAChBC,KAAK,CAAEA,KAAK,CACZC,IAAI,CAAEA,IAAI,CACVC,KAAK,CAAEA,KACT,CAAC,CACD,KAAM,CAAAlB,KAAK,CACRwB,IAAI,uBAAAC,MAAA,CAAuBjB,EAAE,EAAIe,QAAQ,CAAC,CAC1CG,IAAI,CAAEC,QAAQ,EAAK,CAClB;AACA;AACAR,QAAQ,cAAAM,MAAA,CAAcjB,EAAE,CAAE,CAAC,CAC7B,CAAC,CAAC,CACDoB,KAAK,CAAEC,KAAK,EAAK,CAChBC,OAAO,CAACD,KAAK,CAAC,QAAQ,CAAEA,KAAK,CAAC,CAC9B;AACF,CAAC,CAAC,CACN,CAAC,CAED,mBACExB,KAAA,QAAK2B,SAAS,CAAC,MAAM,CAACC,KAAK,CAAE,CAAEC,KAAK,CAAE,KAAK,CAAEC,MAAM,CAAE,MAAO,CAAE,CAAAC,QAAA,eAE5DjC,IAAA,QACEkC,GAAG,CAAEzB,KAAM,CACXoB,SAAS,CAAC,cAAc,CACxBM,GAAG,CAAC,KAAK,CACTH,MAAM,CAAC,KAAK,CACZF,KAAK,CAAE,CAAEM,SAAS,CAAE,OAAQ,CAAE,CAC/B,CAAC,cACFpC,IAAA,QAAK6B,SAAS,CAAC,KAAK,CAAAI,QAAA,cAClB/B,KAAA,QAAK2B,SAAS,CAAC,WAAW,CAACxB,EAAE,CAAC,YAAY,CAAA4B,QAAA,eACxCjC,IAAA,MAAG6B,SAAS,CAAC,WAAW,CAAAI,QAAA,cACtBjC,IAAA,CAACP,YAAY,EAACqB,IAAI,CAAEA,IAAK,CAACH,QAAQ,CAAEA,QAAS,CAAE,CAAC,CAC/C,CAAC,cAEJT,KAAA,QACE4B,KAAK,CAAE,CACLE,MAAM,CAAE,MAAM,CACdK,QAAQ,CAAE,QACV;AACA;AACF,CAAE,CAAAJ,QAAA,eAEFjC,IAAA,OAAI6B,SAAS,CAAC,YAAY,CAAAI,QAAA,CAAE3B,KAAK,CAAK,CAAC,cACvCN,IAAA,MACE6B,SAAS,CAAC,WAAW,CACrBC,KAAK,CAAE,CACLE,MAAM,CAAE,MAAM,CACdK,QAAQ,CAAE,QAAQ,CAClBC,YAAY,CAAE,UAAU,CACxBC,YAAY,CAAE,MAChB,CAAE,CAAAN,QAAA,CAEDlB,KAAK,CACL,CAAC,EACD,CAAC,cAENf,IAAA,QAAAiC,QAAA,cAEE/B,KAAA,MAAG2B,SAAS,CAAC,cAAc,CAACW,OAAO,CAAEZ,WAAY,CAAAK,QAAA,EAAC,YACtC,cAAAjC,IAAA,CAACR,gBAAgB,GAAE,CAAC,EAC7B,CAAC,CACD,CAAC,cAENQ,IAAA,QAAK6B,SAAS,CAAC,qBAAqB,CAAAI,QAAA,cAClC/B,KAAA,QAAK2B,SAAS,CAAC,KAAK,CAAAI,QAAA,eAClBjC,IAAA,QAAK6B,SAAS,CAAC,OAAO,CAAAI,QAAA,cACpBjC,IAAA,CAACJ,aAAa,EAACW,MAAM,CAAEA,MAAO,CAACG,IAAI,CAAEA,IAAK,CAAE,CAAC,CAC1C,CAAC,cACNR,KAAA,QAAK2B,SAAS,CAAC,0CAA0C,CAAAI,QAAA,eACvDjC,IAAA,QAAK6B,SAAS,CAAC,oBAAoB,CAAAI,QAAA,cACjCjC,IAAA,CAACN,KAAK,EAACkB,KAAK,CAAEA,KAAM,CAAE,CAAC,CACpB,CAAC,cACNZ,IAAA,QAAK6B,SAAS,CAAC,oBAAoB,CAAAI,QAAA,cACjCjC,IAAA,CAACL,KAAK,EAACkB,KAAK,CAAEA,KAAM,CAACM,WAAW,CAAEA,WAAY,CAAE,CAAC,CAC9C,CAAC,EACH,CAAC,EACH,CAAC,CACH,CAAC,EACH,CAAC,CACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAhB,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}