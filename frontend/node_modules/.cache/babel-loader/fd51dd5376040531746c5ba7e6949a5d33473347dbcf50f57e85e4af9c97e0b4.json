{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import\"./BlogContanier.css\";// import BlogCard from \"./BlogCard\";\nimport BlogCard from\"./BlogCard\";import Pagination from\"./Pagination\";import Toggle from\"./Toggle\";// Component to Display Six Blogs from all Blog Data in Card form\nimport{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function BlogContainer(){const[backendData,setBackendData]=useState([{}]);const[isLatest,setIsLatest]=useState(true);const[currentPg,setCurrentPg]=useState(1);async function getDataFromBackend(){const response=await fetch(\"/blogs\");const allBlogs=await response.json();setBackendData(allBlogs.reverse());}useEffect(()=>{getDataFromBackend();},[]);const handleClickLatest=()=>{getDataFromBackend();setIsLatest(true);};const handleClickTrending=()=>{backendData.sort((a,b)=>{const sumA=a.views+a.likes;const sumB=b.views+b.likes;if(sumA>sumB){return-1;}if(sumA<sumB){return 1;}});setBackendData(backendData);setIsLatest(false);};const indexOfLastBlog=6*currentPg;const indexOfFirstBlog=indexOfLastBlog-6;const sixBlogData=backendData.slice(indexOfFirstBlog,indexOfLastBlog);const paginate=pgNo=>{setCurrentPg(pgNo);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Toggle,{isLatest:isLatest,handleClickLatest:handleClickLatest,handleClickTrending:handleClickTrending}),/*#__PURE__*/_jsx(\"div\",{className:\"container BlogContainer\",children:sixBlogData.map(datapt=>/*#__PURE__*/_jsx(BlogCard,{id:datapt._id,title:datapt.title,author:datapt.author,content:datapt.content,image:datapt.image,role:datapt.role,category:datapt.category,views:datapt.views,likes:datapt.likes,date:datapt.date,intro:datapt.intro},datapt._id))}),/*#__PURE__*/_jsx(Pagination,{noOfBlogs:backendData.length,paginate:paginate,currentPg:currentPg})]});}export default BlogContainer;","map":{"version":3,"names":["React","useState","useEffect","BlogCard","Pagination","Toggle","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","BlogContainer","backendData","setBackendData","isLatest","setIsLatest","currentPg","setCurrentPg","getDataFromBackend","response","fetch","allBlogs","json","reverse","handleClickLatest","handleClickTrending","sort","a","b","sumA","views","likes","sumB","indexOfLastBlog","indexOfFirstBlog","sixBlogData","slice","paginate","pgNo","children","className","map","datapt","id","_id","title","author","content","image","role","category","date","intro","noOfBlogs","length"],"sources":["/Users/shramol/Documents/Code/To-Let-Globe-Dynamic-Blog-Platform/frontend/src/BlogContainer.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./BlogContanier.css\";\n// import BlogCard from \"./BlogCard\";\nimport BlogCard from \"./BlogCard\";\nimport Pagination from \"./Pagination\";\nimport Toggle from \"./Toggle\";\n\n// Component to Display Six Blogs from all Blog Data in Card form\nfunction BlogContainer() {\n  const [backendData, setBackendData] = useState([{}]);\n\n  const [isLatest, setIsLatest] = useState(true);\n\n  const [currentPg, setCurrentPg] = useState(1);\n\n  async function getDataFromBackend() {\n    const response = await fetch(\"/blogs\");\n    const allBlogs = await response.json();\n    setBackendData(allBlogs.reverse());\n  }\n\n  useEffect(() => {\n    getDataFromBackend();\n  }, []);\n\n  const handleClickLatest = () => {\n    getDataFromBackend();\n\n    setIsLatest(true);\n  };\n\n  const handleClickTrending = () => {\n    backendData.sort((a, b) => {\n      const sumA = a.views + a.likes;\n      const sumB = b.views + b.likes;\n\n      if (sumA > sumB) {\n        return -1;\n      }\n      if (sumA < sumB) {\n        return 1;\n      }\n    });\n    setBackendData(backendData);\n    setIsLatest(false);\n  };\n\n  const indexOfLastBlog = 6 * currentPg;\n  const indexOfFirstBlog = indexOfLastBlog - 6;\n  const sixBlogData = backendData.slice(indexOfFirstBlog, indexOfLastBlog);\n\n  const paginate = (pgNo) => {\n    setCurrentPg(pgNo);\n  };\n\n  return (\n    <>\n      <Toggle\n        isLatest={isLatest}\n        handleClickLatest={handleClickLatest}\n        handleClickTrending={handleClickTrending}\n      />\n\n      <div className=\"container BlogContainer\">\n        {sixBlogData.map((datapt) => (\n          <BlogCard\n            key={datapt._id}\n            id={datapt._id}\n            title={datapt.title}\n            author={datapt.author}\n            content={datapt.content}\n            image={datapt.image}\n            role={datapt.role}\n            category={datapt.category}\n            views={datapt.views}\n            likes={datapt.likes}\n            date={datapt.date}\n            intro={datapt.intro}\n          />\n        ))}\n      </div>\n      <Pagination\n        noOfBlogs={backendData.length}\n        paginate={paginate}\n        currentPg={currentPg}\n      />\n    </>\n  );\n}\n\nexport default BlogContainer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}